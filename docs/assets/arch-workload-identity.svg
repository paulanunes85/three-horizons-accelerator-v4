<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 820 520" font-family="Segoe UI, sans-serif">
  <defs>
    <linearGradient id="badg" x1="0" y1="0" x2="1" y2="0"><stop offset="0%" stop-color="#e74c3c"/><stop offset="100%" stop-color="#c0392b"/></linearGradient>
    <linearGradient id="goodg" x1="0" y1="0" x2="1" y2="0"><stop offset="0%" stop-color="#27ae60"/><stop offset="100%" stop-color="#229954"/></linearGradient>
    <filter id="ds"><feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/></filter>
    <marker id="arr" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" fill="#7f8c8d"/></marker>
    <marker id="arrg" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" fill="#27ae60"/></marker>
  </defs>
  <rect width="820" height="520" rx="12" fill="#f8f9fa" stroke="#dee2e6"/>
  <text x="410" y="30" text-anchor="middle" font-size="18" font-weight="700" fill="#2c3e50">Workload Identity — How It Works</text>

  <!-- Traditional (Bad) -->
  <rect x="40" y="50" width="740" height="130" rx="10" fill="url(#badg)" filter="url(#ds)" opacity="0.9"/>
  <text x="60" y="75" font-size="14" font-weight="700" fill="#fff">TRADITIONAL (BAD)</text>
  <rect x="60" y="90" width="100" height="40" rx="6" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)"/>
  <text x="110" y="115" text-anchor="middle" font-size="11" fill="#fff">Pod</text>
  <line x1="162" y1="110" x2="268" y2="110" stroke="rgba(255,255,255,0.7)" stroke-width="2" marker-end="url(#arr)"/>
  <text x="215" y="102" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">Store password</text>
  <rect x="270" y="90" width="120" height="40" rx="6" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)"/>
  <text x="330" y="115" text-anchor="middle" font-size="11" fill="#fff">K8s Secret</text>
  <line x1="392" y1="110" x2="498" y2="110" stroke="rgba(255,255,255,0.7)" stroke-width="2" marker-end="url(#arr)"/>
  <text x="445" y="102" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">Password in request</text>
  <rect x="500" y="90" width="100" height="40" rx="6" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)"/>
  <text x="550" y="115" text-anchor="middle" font-size="11" fill="#fff">Azure</text>
  <text x="60" y="157" font-size="10" fill="rgba(255,255,255,0.8)">&#10007; Secrets can leak    &#10007; Need rotation    &#10007; Stored in multiple places</text>

  <!-- Divider -->
  <line x1="80" y1="200" x2="740" y2="200" stroke="#bdc3c7" stroke-width="1" stroke-dasharray="5,4"/>

  <!-- Workload Identity (Good) -->
  <rect x="40" y="220" width="740" height="270" rx="10" fill="url(#goodg)" filter="url(#ds)" opacity="0.9"/>
  <text x="60" y="248" font-size="14" font-weight="700" fill="#fff">WORKLOAD IDENTITY (GOOD)</text>

  <!-- Flow diagram -->
  <rect x="60" y="265" width="120" height="50" rx="6" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)"/>
  <text x="120" y="288" text-anchor="middle" font-size="11" fill="#fff" font-weight="600">Pod</text>
  <text x="120" y="303" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.7)">(Service Account)</text>

  <rect x="290" y="265" width="120" height="50" rx="6" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)"/>
  <text x="350" y="288" text-anchor="middle" font-size="11" fill="#fff" font-weight="600">Azure AD</text>
  <text x="350" y="303" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.7)">(OIDC)</text>

  <rect x="520" y="265" width="130" height="50" rx="6" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)"/>
  <text x="585" y="288" text-anchor="middle" font-size="11" fill="#fff" font-weight="600">Managed Identity</text>

  <!-- Arrows for flow -->
  <line x1="182" y1="280" x2="288" y2="280" stroke="rgba(255,255,255,0.7)" stroke-width="2" marker-end="url(#arr)"/>
  <text x="235" y="273" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">1. Request token</text>
  <line x1="412" y1="280" x2="518" y2="280" stroke="rgba(255,255,255,0.7)" stroke-width="2" marker-end="url(#arr)"/>
  <text x="465" y="273" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">2. Get token</text>
  <!-- Return arrows -->
  <line x1="518" y1="300" x2="412" y2="300" stroke="rgba(255,255,255,0.5)" stroke-width="1.5" marker-end="url(#arr)" stroke-dasharray="4,3"/>
  <text x="465" y="313" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.7)">4. Verified</text>
  <line x1="288" y1="300" x2="182" y2="300" stroke="rgba(255,255,255,0.5)" stroke-width="1.5" marker-end="url(#arr)" stroke-dasharray="4,3"/>
  <text x="235" y="313" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.7)">3. JWT token</text>

  <!-- Down to services -->
  <line x1="120" y1="317" x2="120" y2="360" stroke="rgba(255,255,255,0.7)" stroke-width="2" marker-end="url(#arr)"/>
  <text x="140" y="345" font-size="8" fill="rgba(255,255,255,0.8)">5. Use token</text>

  <rect x="60" y="365" width="200" height="50" rx="6" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)"/>
  <text x="160" y="388" text-anchor="middle" font-size="11" fill="#fff" font-weight="600">Key Vault · PostgreSQL · ACR</text>
  <text x="160" y="403" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.7)">No secrets needed!</text>

  <!-- Benefits -->
  <text x="350" y="380" font-size="10" fill="rgba(255,255,255,0.9)">&#10003; No secrets to manage</text>
  <text x="350" y="398" font-size="10" fill="rgba(255,255,255,0.9)">&#10003; Tokens auto-rotate</text>
  <text x="550" y="380" font-size="10" fill="rgba(255,255,255,0.9)">&#10003; Azure AD handles auth</text>
  <text x="550" y="398" font-size="10" fill="rgba(255,255,255,0.9)">&#10003; Full audit trail</text>

  <!-- Bottom label -->
  <text x="410" y="468" text-anchor="middle" font-size="10" fill="rgba(255,255,255,0.7)">Short-lived JWT tokens replace long-lived passwords</text>

  <!-- Legend -->
  <rect x="40" y="500" width="14" height="10" rx="2" fill="#e74c3c"/>
  <text x="60" y="509" font-size="9" fill="#555">Traditional (insecure)</text>
  <rect x="200" y="500" width="14" height="10" rx="2" fill="#27ae60"/>
  <text x="220" y="509" font-size="9" fill="#555">Workload Identity (secure)</text>
</svg>