<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 620" font-family="Segoe UI, sans-serif">
  <defs>
    <linearGradient id="kvg" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#3498db"/><stop offset="100%" stop-color="#2980b9"/></linearGradient>
    <linearGradient id="esog" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#9b59b6"/><stop offset="100%" stop-color="#8e44ad"/></linearGradient>
    <linearGradient id="secg" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#e67e22"/><stop offset="100%" stop-color="#d35400"/></linearGradient>
    <linearGradient id="podg" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#27ae60"/><stop offset="100%" stop-color="#229954"/></linearGradient>
    <filter id="ds"><feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/></filter>
    <marker id="arr" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" fill="#7f8c8d"/></marker>
  </defs>
  <rect width="700" height="620" rx="12" fill="#f8f9fa" stroke="#dee2e6"/>
  <text x="350" y="30" text-anchor="middle" font-size="18" font-weight="700" fill="#2c3e50">Secret Management Architecture</text>

  <!-- Developer -->
  <rect x="250" y="48" width="200" height="40" rx="8" fill="#95a5a6" filter="url(#ds)"/>
  <text x="350" y="73" text-anchor="middle" font-size="12" fill="#fff" font-weight="600">Developer creates secret</text>
  <line x1="350" y1="90" x2="350" y2="110" stroke="#7f8c8d" stroke-width="2" marker-end="url(#arr)"/>

  <!-- Key Vault -->
  <rect x="80" y="115" width="540" height="100" rx="10" fill="url(#kvg)" filter="url(#ds)"/>
  <text x="100" y="140" font-size="14" font-weight="700" fill="#fff">AZURE KEY VAULT</text>
  <text x="100" y="160" font-size="10" fill="#d6eaf8">Single source of truth: database-password · api-keys · certificates · connection-strings</text>
  <text x="100" y="180" font-size="10" fill="rgba(255,255,255,0.7)">Access: Azure RBAC + Access Policies + Private Endpoint</text>
  <line x1="350" y1="217" x2="350" y2="242" stroke="#7f8c8d" stroke-width="2" marker-end="url(#arr)"/>
  <text x="360" y="235" font-size="9" fill="#7f8c8d">Sync via Workload Identity</text>

  <!-- External Secrets Operator -->
  <rect x="80" y="248" width="540" height="100" rx="10" fill="url(#esog)" filter="url(#ds)"/>
  <text x="100" y="275" font-size="14" font-weight="700" fill="#fff">EXTERNAL SECRETS OPERATOR</text>
  <text x="100" y="295" font-size="10" fill="#e8daef">1. Reads ExternalSecret CR  2. Authenticates via Workload Identity</text>
  <text x="100" y="315" font-size="10" fill="rgba(255,255,255,0.7)">3. Fetches secret value  4. Creates K8s Secret  5. Refreshes every 1h</text>
  <line x1="350" y1="350" x2="350" y2="375" stroke="#7f8c8d" stroke-width="2" marker-end="url(#arr)"/>
  <text x="360" y="368" font-size="9" fill="#7f8c8d">Creates K8s Secret</text>

  <!-- Kubernetes Secret -->
  <rect x="80" y="380" width="540" height="80" rx="10" fill="url(#secg)" filter="url(#ds)"/>
  <text x="100" y="407" font-size="14" font-weight="700" fill="#fff">KUBERNETES SECRET</text>
  <text x="100" y="427" font-size="10" fill="rgba(255,255,255,0.85)">kind: Secret  ·  name: my-app-secrets  ·  data: database-password: &lt;base64&gt;</text>
  <line x1="350" y1="462" x2="350" y2="487" stroke="#7f8c8d" stroke-width="2" marker-end="url(#arr)"/>
  <text x="360" y="480" font-size="9" fill="#7f8c8d">Mounted as volume or env var</text>

  <!-- Application Pod -->
  <rect x="80" y="492" width="540" height="70" rx="10" fill="url(#podg)" filter="url(#ds)"/>
  <text x="100" y="520" font-size="14" font-weight="700" fill="#fff">APPLICATION POD</text>
  <text x="100" y="540" font-size="10" fill="rgba(255,255,255,0.85)">Access as: $DATABASE_PASSWORD (env) or /secrets/database-password (volume)</text>

  <!-- Legend -->
  <rect x="80" y="580" width="12" height="12" rx="2" fill="#3498db"/>
  <text x="98" y="591" font-size="9" fill="#555">Key Vault</text>
  <rect x="170" y="580" width="12" height="12" rx="2" fill="#9b59b6"/>
  <text x="188" y="591" font-size="9" fill="#555">ESO</text>
  <rect x="230" y="580" width="12" height="12" rx="2" fill="#e67e22"/>
  <text x="248" y="591" font-size="9" fill="#555">K8s Secret</text>
  <rect x="330" y="580" width="12" height="12" rx="2" fill="#27ae60"/>
  <text x="348" y="591" font-size="9" fill="#555">Application</text>
  <text x="450" y="591" font-size="9" fill="#7f8c8d" font-style="italic">&#8595; Flow: Key Vault → ESO → K8s Secret → Pod</text>
</svg>