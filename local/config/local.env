# =============================================================================
# THREE HORIZONS ACCELERATOR — Local Demo Environment Configuration
# =============================================================================
# Source this file or use envsubst with it.
# Usage: source local/config/local.env
# =============================================================================

# -- Cluster --
CLUSTER_NAME="three-horizons-demo"
KUBECONFIG="${HOME}/.kube/config"

# -- Feature Flags --
PORTAL_TYPE="backstage"        # "backstage" (free, no registry credentials) or "rhdh" (requires Red Hat registry)
RHDH_ENABLED="true"            # Set to "true" to deploy the developer portal (backstage or rhdh)
AWX_ENABLED="true"             # Set to "true" to deploy AWX (Ansible Automation Platform upstream)
DEMO_APPS_ENABLED="false"      # Set to "true" to deploy sample apps
GATEKEEPER_ENABLED="true"
CERT_MANAGER_ENABLED="true"

# -- Credentials (demo only — NOT for production) --
ARGOCD_ADMIN_PASSWORD="demo-argocd-2026"
GRAFANA_ADMIN_PASSWORD="admin"
POSTGRES_PASSWORD="demo-postgres-2026"
POSTGRES_USER="postgres"
REDIS_PASSWORD="demo-redis-2026"

# -- Namespaces --
NS_ARGOCD="argocd"
NS_MONITORING="observability"
NS_CERT_MANAGER="cert-manager"
NS_INGRESS="ingress-nginx"
NS_GATEKEEPER="gatekeeper-system"
NS_DATABASES="databases"
NS_RHDH="rhdh"
NS_DEMO="demo-apps"

# -- Helm Chart Versions --
ARGOCD_CHART_VERSION="5.55.0"
PROMETHEUS_STACK_VERSION="56.0.0"
CERT_MANAGER_VERSION="v1.14.0"
INGRESS_NGINX_VERSION="4.9.0"
GATEKEEPER_VERSION="3.14.0"

# -- GitHub App for RHDH (optional — enables GitHub auth + catalog discovery) --
# To use GitHub App auth instead of guest mode:
#   1. Create a GitHub App (see local/README.md for instructions)
#   2. Fill in the values below
#   3. Set RHDH_AUTH_MODE="github"
RHDH_AUTH_MODE="github"           # "guest" (default) or "github"
GITHUB_APP_ID="2916976"                 # Numeric App ID from GitHub App settings
GITHUB_APP_CLIENT_ID="Iv23ctrQ9W6Pl4Rv3cpk"          # Client ID from GitHub App settings
GITHUB_APP_CLIENT_SECRET="818eeb52a924369a9b1967290b0dfb68e3cf9835"      # TODO: Paste your Client Secret here
GITHUB_APP_PRIVATE_KEY_FILE="/Users/paulasilva/Downloads/three-horizons-rhdh.2026-02-21.private-key.pem"   # Absolute path to .pem file downloaded from GitHub
GITHUB_APP_WEBHOOK_SECRET=""     # Optional webhook secret

# -- DNS (local) --
DNS_DOMAIN="localhost"

# -- Resource Limits --
# These keep the demo within ~12-14GB RAM
PROMETHEUS_RETENTION="1d"
PROMETHEUS_STORAGE="5Gi"
GRAFANA_STORAGE="2Gi"
