# paulasilvatech — Agentic DevOps Platform (Backstage) Production Config
app:
  title: paulasilvatech — Agentic DevOps Platform
  baseUrl: http://localhost:7007

organization:
  name: paulasilvatech

backend:
  baseUrl: http://localhost:7007
  listen:
    port: 7007
  auth:
    dangerouslyDisableDefaultAuthPolicy: true
  database:
    client: pg
    connection:
      host: ${POSTGRES_HOST}
      port: ${POSTGRES_PORT}
      user: ${POSTGRES_USER}
      password: ${POSTGRES_PASSWORD}

auth:
  environment: development
  providers:
    guest:
      dangerouslyAllowOutsideDevelopment: true
    github:
      development:
        clientId: ${GITHUB_APP_CLIENT_ID}
        clientSecret: ${GITHUB_APP_CLIENT_SECRET}
        signIn:
          resolvers:
            - resolver: usernameMatchingUserEntityName
              dangerouslyAllowSignInWithoutUserInCatalog: true

integrations:
  github:
    - host: github.com
      apps:
        - appId: ${GITHUB_APP_ID}
          clientId: ${GITHUB_APP_CLIENT_ID}
          clientSecret: ${GITHUB_APP_CLIENT_SECRET}
          privateKey: ${GITHUB_APP_PRIVATE_KEY}

techdocs:
  builder: local
  generator:
    runIn: local
  publisher:
    type: local

scaffolder: {}

catalog:
  rules:
    - allow: [Component, System, API, Resource, Location, Template, User, Group]
  locations:
    # -- Valid Golden Path Templates (YAML-compatible) --
    # H2 Enhancement
    - type: url
      target: https://github.com/paulanunes85/three-horizons-accelerator/blob/main/golden-paths/h2-enhancement/ado-to-github-migration/template.yaml
      rules:
        - allow: [Template]
    - type: url
      target: https://github.com/paulanunes85/three-horizons-accelerator/blob/main/golden-paths/h2-enhancement/api-microservice/template.yaml
      rules:
        - allow: [Template]
    # H3 Innovation
    - type: url
      target: https://github.com/paulanunes85/three-horizons-accelerator/blob/main/golden-paths/h3-innovation/copilot-extension/template.yaml
      rules:
        - allow: [Template]
    - type: url
      target: https://github.com/paulanunes85/three-horizons-accelerator/blob/main/golden-paths/h3-innovation/rag-application/template.yaml
      rules:
        - allow: [Template]

permission:
  enabled: true
